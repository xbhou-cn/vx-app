(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"387b":function(e,t,n){"use strict";(function(e){n("07d9"),n("921b");c(n("66fd"));var t=c(n("be5c"));function c(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"4eea":function(e,t,n){},"93fa":function(e,t,n){"use strict";var c=n("4eea"),a=n.n(c);a.a},"9f06":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;c(n("a933"));function c(e){return e&&e.__esModule?e:{default:e}}var a={data:function(){return{backUrl:null,backType:null,clickF:!1,imgSrc:null}},onLoad:function(t){var n=this;this.backUrl=t.backUrl,this.backType=t.backType,e.request({url:this.apiService+"/file/826132a7004047049dce9c32b26feeb4",method:"GET",success:function(t){var c=t.data.obj;c=e.arrayBufferToBase64(e.base64ToArrayBuffer(c)),n.imgSrc="data:image/jpg;base64,"+c},fail:function(){},complete:function(){}})},methods:{login:function(){var t=this,n=this;this.clickF=!0,e.login({success:function(c){var a=c.code;a&&e.request({url:t.apiService+"/user/getUserInfo",method:"GET",data:{code:a},success:function(e){console.log("第三方",e),n.checkOrSaveUser(e.data.obj)},fail:function(){},complete:function(){t.clickF=!1}})}})},checkOrSaveUser:function(t){var n=this,c=this;t=JSON.parse(t),e.getUserInfo({success:function(a){var r={openId:t.openid,userName:a.userInfo.nickName,userFace:a.userInfo.avatarUrl};e.request({url:n.apiService+"/user/saveUser",method:"POST",header:{"content-type":"application/json"},data:JSON.stringify(r),success:function(t){if(t.data.successful){var n=t.data.obj;e.setStorageSync("userId",n.userId),e.setStorageSync("openId",n.openId),e.setStorageSync("userName",n.userName),e.setStorageSync("userFace",n.userFace),e.redirectTo({url:c.backUrl})}e.showToast({title:t.data.msg}),console.log("back",t)},fail:function(){},complete:function(){}})}})}}};t.default=a}).call(this,n("543d")["default"])},be5c:function(e,t,n){"use strict";n.r(t);var c=n("e04f"),a=n("c323");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);n("93fa");var u,o=n("f0c5"),s=Object(o["a"])(a["default"],c["b"],c["c"],!1,null,null,null,!1,c["a"],u);t["default"]=s.exports},c323:function(e,t,n){"use strict";n.r(t);var c=n("9f06"),a=n.n(c);for(var r in c)"default"!==r&&function(e){n.d(t,e,function(){return c[e]})}(r);t["default"]=a.a},e04f:function(e,t,n){"use strict";var c,a=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return c})}},[["387b","common/runtime","common/vendor"]]]);